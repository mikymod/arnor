[gd_scene load_steps=21 format=3 uid="uid://ccfj4xin4lno0"]

[ext_resource type="Texture2D" uid="uid://bij0i4ko1fp4r" path="res://card_framework/card/textures/background_frame.png" id="1"]
[ext_resource type="Script" path="res://card_framework/card/card.gd" id="2"]
[ext_resource type="Resource" uid="uid://dduc3gtaplml7" path="res://card_framework/card/basic_card.tres" id="2_3kk5g"]
[ext_resource type="Script" path="res://card_framework/card/states/card_idle.gd" id="4"]
[ext_resource type="Script" path="res://card_framework/card/states/card_return.gd" id="5"]
[ext_resource type="Script" path="res://card_framework/card/states/card_play.gd" id="6"]
[ext_resource type="Script" path="res://card_framework/card/states/card_draw.gd" id="7"]
[ext_resource type="Script" path="res://card_framework/card/states/card_inactive.gd" id="9"]
[ext_resource type="FontFile" uid="uid://dj6p0nso1gbcq" path="res://PeaberryBase.ttf" id="9_1ylnu"]
[ext_resource type="Resource" path="res://card_framework/card/card_events.tres" id="10"]
[ext_resource type="Texture2D" uid="uid://b41bay2ovukum" path="res://card_framework/card/textures/cost_frame.png" id="11"]
[ext_resource type="Texture2D" uid="uid://bn4ml40n7dqcu" path="res://card_framework/card/textures/description_frame.png" id="12"]
[ext_resource type="Script" path="res://utils/state_machine.gd" id="12_u0ixi"]
[ext_resource type="Texture2D" uid="uid://d081clexolmeo" path="res://card_framework/card/textures/name_frame.png" id="13"]
[ext_resource type="Texture2D" uid="uid://cd3el6mxg2ci6" path="res://card_framework/card/textures/foreground_frame.png" id="14"]
[ext_resource type="Texture2D" uid="uid://5bgincnel8i1" path="res://card_framework/card/textures/rarity_frame.png" id="15"]
[ext_resource type="Texture2D" uid="uid://bl5omfx1acxku" path="res://card_framework/card/textures/card_selected.png" id="19"]

[sub_resource type="Theme" id="Theme_fcrhx"]
default_font_size = 12

[sub_resource type="Theme" id="Theme_c8tpo"]
default_font = ExtResource("9_1ylnu")
default_font_size = 28

[sub_resource type="RectangleShape2D" id="1"]
size = Vector2(203.75, 366.25)

[node name="Card" type="Area2D"]
position = Vector2(968, 497)
scale = Vector2(0.8, 0.8)
collision_layer = 256
collision_mask = 512
script = ExtResource("2")
card_resource = ExtResource("2_3kk5g")

[node name="Selected" type="Sprite2D" parent="."]
visible = false
texture = ExtResource("19")

[node name="BackgroundFrame" type="Sprite2D" parent="."]
texture = ExtResource("1")

[node name="ForegroundFrame" type="Sprite2D" parent="."]
position = Vector2(0, -87)
texture = ExtResource("14")

[node name="NameFrame" type="Sprite2D" parent="."]
position = Vector2(0, -7)
texture = ExtResource("13")

[node name="NameLabel" type="RichTextLabel" parent="NameFrame"]
modulate = Color(0, 0, 0, 1)
offset_left = -64.0
offset_top = -8.0
offset_right = 64.0
offset_bottom = 11.0
mouse_filter = 2
theme = SubResource("Theme_fcrhx")
text = "Name"
visible_characters = 17
visible_ratio = 4.25

[node name="CostFrame" type="Sprite2D" parent="."]
position = Vector2(-88, -143)
texture = ExtResource("11")

[node name="CostLabel" type="RichTextLabel" parent="CostFrame"]
modulate = Color(0, 0, 0, 1)
offset_left = -16.0
offset_top = -18.0
offset_right = 16.0
offset_bottom = 12.0
mouse_filter = 2
theme = SubResource("Theme_c8tpo")
bbcode_enabled = true
text = "5"

[node name="DescriptionFrame" type="Sprite2D" parent="."]
modulate = Color(1, 0.886275, 0.643137, 1)
position = Vector2(0, 78)
texture = ExtResource("12")

[node name="DescriptionLabel" type="RichTextLabel" parent="DescriptionFrame"]
modulate = Color(0, 0, 0, 1)
offset_left = -75.0
offset_top = -48.0
offset_right = 74.0
offset_bottom = 48.0
mouse_filter = 2
text = "Description"

[node name="RarityFrame" type="Sprite2D" parent="."]
position = Vector2(0, 15)
texture = ExtResource("15")

[node name="StateMachine" type="Node" parent="."]
script = ExtResource("12_u0ixi")
initial_state = NodePath("Inactive")

[node name="Inactive" type="Node" parent="StateMachine"]
script = ExtResource("9")

[node name="Draw" type="Node" parent="StateMachine"]
script = ExtResource("7")
card_events = ExtResource("10")
card_path = NodePath("../..")

[node name="Idle" type="Node" parent="StateMachine"]
script = ExtResource("4")
card_events = ExtResource("10")
card_path = NodePath("../..")

[node name="Return" type="Node" parent="StateMachine"]
script = ExtResource("5")
card_events = ExtResource("10")
card_path = NodePath("../..")

[node name="Play" type="Node" parent="StateMachine"]
script = ExtResource("6")
card_events = ExtResource("10")
root_path = NodePath("../..")

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
position = Vector2(-0.625, 40.625)
shape = SubResource("1")

[connection signal="mouse_entered" from="." to="." method="_on_Card_mouse_entered"]
[connection signal="mouse_exited" from="." to="." method="_on_Card_mouse_exited"]
